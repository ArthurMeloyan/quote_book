{% extends 'quotes/base.html' %}
{% block title %} –¢–û–ü-10 –¶–ò–¢–ê–¢ {% endblock %}

{% block content %}
    <div>
        <h2>{{ title|default:'–¢–æ–ø-10 —Ü–∏—Ç–∞—Ç'}}</h2>
        <hr>
        <div class="d-flex justify-content-start gap-2 my-4">
            <a href="{% url 'top' %}?sort=likes"
               class="btn {% if current_sort == 'likes' %} btn-primary {% else %} btn-outline-primary {% endif %}">
               –ü–æ –õ–∞–π–∫–∞–º
            </a>
            <a href="{% url 'top' %}?sort=dislikes"
               class="btn {% if current_sort == 'dislikes' %} btn-primary {% else %} btn-outline-primary {% endif %}">
               –ü–æ –î–∏–∑–ª–∞–π–∫–∞–º
            </a>
            <a href="{% url 'top' %}?sort=views"
               class="btn {% if current_sort == 'views' %} btn-primary {% else %} btn-outline-primary {% endif %}">
               –ü–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º
            </a>
            <a href="{% url 'top' %}?sort=newest"
               class="btn {% if current_sort == 'newest' %} btn-primary {% else %} btn-outline-primary {% endif %}">
               –ü–æ –¥–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
            </a>
        </div>


        <ol> 
        {% for quote in quotes %}
            <li style="margin-bottom: 30px;">
                <div class="--card">
                    <div class="--card-body">
                        <blockquote class="blockquote mb-0">
                            <p>"{{ quote.text }}"</p>
                            <footer class="blockquote-footer">{{ quote.source }}</footer>
                        </blockquote>
                    </div>
                </div>

                <p class="mt-2"> 
                    –ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤: <span class="badge bg-secondary">{{ quote.views }}</span> |
                    –õ–∞–π–∫–∏: <span class="badge bg-success">{{ quote.likes }}</span> |
                    –î–∏–∑–ª–∞–π–∫–∏: <span class="badge bg-danger">{{ quote.dislikes }}</span>
                </p>

                <div>
                    
                    <form action="{% url 'like_quote' quote.id %}?next={{ request.path }}?sort={{ current_sort}}" method="post" style="display: inline-block;">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-sm btn-success">üëç –õ–∞–π–∫</button> 
                    </form>

                    <form action="{% url 'dislike_quote' quote.id %}?next={{ request.path }}?sort={{ current_sort}}" method="post" style="display: inline-block;">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-sm btn-danger">üëé –î–∏–∑–ª–∞–π–∫</button>
                    </form>
                </div>
            </li>
        {% empty %}
            <div class="alert alert-info" role="alert">
                –í –±–∞–∑–µ –ø–æ–∫–∞ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–π —Ü–∏—Ç–∞—Ç—ã —Å –ª–∞–π–∫–∞–º–∏. 
                <a href="{% url 'create_quote' %}" class="alert-link">–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é —Ü–∏—Ç–∞—Ç—É</a> –∏–ª–∏ 
                <a href="{% url 'random_quote' %}" class="alert-link">–ø—Ä–æ–≥–æ–ª–æ—Å—É–π—Ç–µ –∑–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ</a>!
            </div>
        {% endfor %}
        </ol>

    </div>
{% endblock %}